/**
 * @(#)Rtoaster.js
 * Copyright (c) 2006-2014 BrainPad, Inc. All right reserved.
 * @version 1.7.9
 * @see <a href="http://www.rtoaster.com/">Rtoaster web site</a>
 */
if(typeof(Rtoaster)==="undefined"){Rtoaster={host:"stroustrup.brainpad.co.jp",path:"/",timeout:2000,C:"_rt.",M:"_rt.uid",R:"_rt.sid",_B:function(v){return!v||v.length===0||v==="null"||v==="undefined"},_D:function(v){if(Rtoaster._B(v)){return""}return(typeof(decodeURIComponent)==="function"?decodeURIComponent:unescape)(v)},_E:function(v){if(Rtoaster._B(v)){return""}return(typeof(encodeURIComponent)==="function"?encodeURIComponent:escape)(v)}};Rtoaster.Cookie=(function(S){var D=document,T={},_B=S._B,_E=S._E;T.get=function(k){if(!_B(k)){var a=D.cookie.split("; "),m=_E(k)+"=";for(var i=0,n=a.length;i<n;i++){var c=a[i];if(c.indexOf(m)===0){var b=m.length,e=c.length;if(c.charAt(b)==="\""){b++}if(c.charAt(e-1)==="\""){e--}return S._D(c.substring(b,e))}}}return""};T.set=function(p){p=p||{};if(!_B(p.key)){var c=[_E(p.key),"="];if(!_B(p.value)){c[c.length]=_E(p.value)}if(!_B(p.domain)){c[c.length]="; domain=";c[c.length]=p.domain}if(!_B(p.path)){c[c.length]="; path=";c[c.length]=p.path}if(!_B(p.expires)){c[c.length]="; expires=";c[c.length]=p.expires}p.secure=p.secure||false;if(p.secure){c[c.length]="; secure"}D.cookie=c.join("")}};T.remove=function(p){p=p||{};p.expires="Thu, 01-Jan-1970 00:00:00 GMT";T.set(p)};return T})(Rtoaster);(function(S){var W=window,D=W.document,L=W.location,P=L.protocol,E=[],H=[],T={F:0},U=/*@cc_on!@*/0?!D.documentMode?2048:4096:8192,_B=S._B,_C=function(){if(T.X){clearTimeout(T.X);T.X=null}},_E=S._E,_F=function(e){for(var i=0,n=E.length;i<n;i++){var o=E[i];if(o.E===e){return o}}return null},_G=S.Cookie.get,_I=setTimeout,_J=function(a){return a.join("\n")},_L=function(p,q){var c=D.charset||"UTF-8",u=S.path+p+q+"&c="+c;if(u.length<=U){try{var e=D.createElement("script"),h=D.getElementsByTagName("head")[0]||D.documentElement;e.type="text/javascript";e.charset=c;e.src=P+"//"+S.host+u;e.onload=e.onreadystatechange=function(_,b){var s=e.readyState;if(b||!s||s==="loaded"||s==="complete"){e.onload=e.onreadystatechange=null;var n=e.parentNode;if(n){n.removeChild(e)}e=null}};h.insertBefore(e,h.firstChild);return true}catch(x){}}return false},_M=function(){return _G(S.M)},_O=function(t,e,c){if(t.addEventListener){t.addEventListener(e,c,false)}else if(t.attachEvent){if(!T.O){T.O=[];_O(W,"unload",function(){var l=T.O;for(var i=l.length-1;i>=0;i--){var f=l[i],o=f[0];try{o.detachEvent(f[1],f[2])}catch(e){}f[0]=f[2]=null}T.O=null})}e="on"+e;t.attachEvent(e,c);T.O[T.O.length]=[t,e,c]}},_P=function(a,v){if(v){switch(typeof(v)){case"string":if(v.charAt(0)!=="/"){var p=L.pathname;if(_B(p)){p="/"}else if(p.charAt(p.length-1)!=="/"){var n=p.lastIndexOf("/");if(n===-1){p+="/"}else{p=p.substring(0,n+1)}}v=p+v}T.L=_E(P+"//"+L.host+v);break;case"object":for(var k in v){var o=v[k];if(_V(o)){a[a.length]=k+"="+o}}break}}},_R=function(a,b){if(T.F===0){S.track()}if(T.F===1){T.F=2;for(var i=0,n=a.length;i<n;i++){var e=a[i];if(!_B(e)&&!_F(e)){E[E.length]={"E":e}}}if(E.length===0){_Z()}else{var c=0,f=S.timeout,t=f/10,x=function(){if(T.F===2){if(!D.body){return _I(x,1)}var r=S.trackingTime;if(r){T.F=3;var d=_B(T.M),e=[],p=[],l=0;if(!d||!(d=_B(T.M=_E(_M())))){for(var i=0,n=E.length;i<n;i++){var o=E[i];if(D.getElementById(o.E)){e[e.length]=o.E}}if(e.length===0){return _Z()}if(!_B(T.C)){p[l++]=T.C}if(!_B(T.E)){p[l++]=T.E}if(!_B(T.P)){p[l++]=T.P}T.X=_I(function(){_Z()},f)}if(d||!_L("r/","?a="+T.A+"&l="+T.L+"&m="+T.M+"&e="+_E(e.join(","))+"&p="+_E(_J(p))+"&t="+r+"&i="+T.I)){_Z()}}else if(++c<t){_I(x,10)}else{_Z()}}},z=function(){var s=D.readyState;return s==="interactive"||s==="loaded"||s==="complete"};if(b||z()){return x()}if(T.F===2){if(D.addEventListener){D.addEventListener("DOMContentLoaded",function(){D.removeEventListener("DOMContentLoaded",arguments.callee,false);x()},false)}else if(D.attachEvent){D.attachEvent("onreadystatechange",function(){if(z()){D.detachEvent("onreadystatechange",arguments.callee);x()}});var d=D.documentElement;if(d.doScroll&&W==W.top){(function(){try{d.doScroll("left");x()}catch(e){_I(arguments.callee,1)}})()}}_O(W,"load",x)}}}},_S=S.Cookie.set,_T=function(s,p,b){var a=[],c=D.cookie.split("; "),l=0;for(var i=0,n=c.length;i<n;i++){var o=c[i];if(o.indexOf(S.C)===0){a[l++]=S._D(o)}}if(b&&T.N===-1){a[l++]=T.P}if(s&&p&&typeof(s)===typeof(p)){return false}_P(a,s);_P(a,p);return _L("t/","?a="+T.A+"&l="+T.L+"&r="+_E(D.referrer)+"&m="+T.M+"&p="+_E(_J(a))+"&i="+T.I)},_U=function(v){if(!_B(v)){_S({"key":S.R,"value":v,"domain":T.R,"path":"/"})}},_V=function(s){var t=typeof(s);return t==="string"||t==="number"||t==="boolean"},_X=function(t,c){if(_B(c)){return true}var e=function(s){if(_B(s)){return""}var o=[D.open,D.close,D.clear,D.write,D.writeln],w=[],x=function(a){for(var i=0,n=a.length;i<n;i++){w[w.length]=a[i]}};D.open=D.close=D.clear=function(){};D.write=function(){x(arguments)};D.writeln=function(){x(arguments);w[w.length]="\n"};try{W.execScript?W.execScript(s):W["eval"].call(W,s)}catch(e){if(typeof(console)!=="undefined"){console.error("["+t.id+"] "+e.name+": "+e.message)}}D.open=o[0];D.close=o[1];D.clear=o[2];D.write=o[3];D.writeln=o[4];return w.join("")},g=function(u){var r;try{r=new XMLHttpRequest()}catch(x){try{r=new ActiveXObject("Msxml2.XMLHTTP")}catch(y){try{r=new ActiveXObject("Microsoft.XMLHTTP")}catch(z){r=false}}}if(!r){return null}r.open("GET",u,false);r.send(null);return r.responseText},w=function(c){return c==="\t"||c==="\n"||c==="\f"||c==="\r"||c===" "},i=0;while((i=c.indexOf("<",i))!==-1){var l=i+1,p=c.charAt(l),x=i,r;if(p==="!"||p==="/"){if(p==="!"&&c.charAt(++l)==="-"&&c.charAt(++l)==="-"){if(c.charAt(++l)===">"){i=l+1}else{r=c.indexOf("-->",l);if(r===-1){break}i=r+3}}else{r=c.indexOf(">",l);if(r===-1){break}i=r+1}continue}r=c.indexOf(">",l);if(r===-1){break}i=r+1;if(r-l<6||(!w(p=c.charAt(l+6))&&p!==">")||c.substring(l,l+6).toLowerCase()!=="script"){continue}var n=c.substring(l+6,r),s=null;l=0;while((l=n.indexOf("=",l))!==-1){p=n.charAt(++l);if((p==="\""||p==="'")&&(r=n.indexOf(p,++l))!==-1){if(w(n.charAt(l-6))&&n.substring(l-5,l-2).toLowerCase()==="src"){s=g(n.substring(l,r));break}l=r+1}}r=i;while((l=c.indexOf("</",r))!==-1&&(r=c.indexOf(">",l+2))!==-1){if(c.substring(l+2,r).toLowerCase()==="script"){break}r++}if(r===-1){break}var y=r+1;if(!s){var j=l;r=c.indexOf("<!",i);if(r===-1||r>j){l=i;r=j}else{l=r+1;while(c.charAt(++l)==="-"){}r=c.lastIndexOf(">",j);if(r===-1||l>r){break}while(c.charAt(--r)==="-"){}r++}s=c.substring(l,r)}c=c.substring(0,x)+e(s)+c.substring(y);i=x}if(!_B(c)){try{t.innerHTML=c;return true}catch(z){}}return false},_Z=function(t){if(T.F!==4){var e;if(t){if((e=D.getElementById(t))){e.style.display="block"}}else{T.F=4;for(var i=0,n=H.length;i<n;i++){var o=H[i],c=o.E&&D.getElementById(o.E);if(c&&(e=c.parentNode)){e.removeChild(c);e.style.visibility=o.V;c=null}else if(o.P&&(e=D.getElementById(o.P))){e.style.visibility=o.V}}H=[]}e=null}};S.getParameter=function(p){var q=L.search;if(_B(p)){return q}var l=q.indexOf(p);if(l>0&&(l===1||q.charAt(l-1)==="&")&&q.charAt(l+=p.length)==="="){var r=q.indexOf("&",++l);return S._D(r===-1?q.substring(l):q.substring(l,r))}return null};S.init=function(a,m){if(_B(m)){m=_M()}T.A=_E(a);T.F=0;T.I=Math.random();T.L=_E(L);T.M=_E(m);T.C=T.E=T.P=""};S.hide=function(t){if(T.F<3){var e,h=H.length,i;if(t){e=D.getElementById(t)}else{i="rt:c"+h;D.write("<span id=\""+i+"\" style=\"display:none\"></span>");var o=D.getElementById(i);if(o){e=o.parentNode}}if(e){H[h]={"E":i,"P":e.id,"V":e.style.visibility};e.style.visibility="hidden";if(h===0){_O(W,"load",function(){if(!T.F||T.F<2){_Z()}})}e=null}}};S.item=function(p){if(p){switch(typeof(p)){case"string":T.N=-1;T.P="item_code="+p;break;case"object":var a=[],l=0;if(p instanceof Array){for(var i=0,n=p.length;i<n;i++){var v=p[i];if(_V(v)){a[l++]="item"+l+"_code="+v}}}else{for(var k in p){if(k.indexOf("item")===0||k==="subtotal"){var v=p[k];if(_V(v)){a[l++]=k+"="+v}}}}T.N=l;T.P=_J(a);break}}};S.track=function(s,p){if(!_B(T.A)){if(T.F===0){T.F=1;if(!_T(s,p,true)){_Z()}}else{_T(s,p,false)}}};S.category=function(){var a=arguments,n=a.length;if(n===1){var p=a[0];if(_V(p)){T.C="c="+p;return}n=0;if(p instanceof Array){a=p;n=a.length}}if(n>0){var c=[],l=0,n=a.length;for(var i=0;i<n;){var v=a[i++];if(_V(v)&&!_B(v)){c[l++]="c"+i+"="+v}}T.C=_J(c)}};S.price=function(l,u){var p=[],i=0;if(parseFloat(l)>=0){p[i++]="pf="+l}if(parseFloat(u)>=0){p[i++]="pt="+u}T.E=_J(p)};S.recommend=function(){_R(arguments,false)};S.recommendNow=function(){_R(arguments,true)};S.click=function(e){if(!_B(e)){var o=_F(e);if(o&&o.T){_U(o.S);return true}}return false};S.observe=function(f){if(!D.readyState||D.readyState==="complete"){_I(f,10)}else{_O(W,"load",f)}};S.show=function(p){if(T.F===3&&p&&!_B(p.element)){var o=_F(p.element),t=D.getElementById(p.element);if(!o){o={"E":p.element};E[E.length]=o}if(!T.R){T.R=p.domain;_C()}o.S=p.sid;o.T=p.event;if(t&&_X(t,p.content)&&o.T){var f=function(e){e=e||W.event;if(!e){return}switch(e.type){case"keydown":if(e.keyCode!=13){return}case"mousedown":_U(o.S);break}};_O(t,"mousedown",f);_O(t,"keydown",f)}t=null}};S.flush=_Z})(Rtoaster)}
